<app-spinner [spinnerstatus]="spinnerstatus"></app-spinner>

<div class="card  m-3" #student>
    <h3 class="card-header bold">School Registration </h3>
    <!--<div class="card-body"> -->


    <!-- <form [formGroup]="registerForm">-->
    <form>
        <div class="d-inline-flex flex-row align-items-start p-2 bd-highlight flex-wrap">
           <!--
            <div class="p-2 bd-highlight">
                <mat-form-field>
                    <mat-label>Session</mat-label>
                    <mat-select [formControl]="sessionControl" [(ngModel)]="selectedsession">
                        <mat-option [value]="session" *ngFor="let session of sessionList">{{session}}</mat-option>
                    </mat-select>
                </mat-form-field>
                <p>Selected session = {{selectedsession}}</p>
            </div>
            -->
            <div class="p-2 bd-highlight">
                <mat-form-field>
                    <mat-label>School</mat-label>
                    <mat-select [disabled]="dataentry" [formControl]="schoolControl" [(ngModel)]="selectedschool"  (selectionChange)="onSchoolChange($event)">
                        <mat-option [value]="school.entityid" *ngFor="let school of schoolList">{{school.entityname}}</mat-option>
                    </mat-select>
                </mat-form-field>
                <p>Selected value = {{selectedschool}}</p>
            </div>

            <div class="p-2 bd-highlight" *ngIf="selectedschool!==''">
                <mat-form-field>
                    <mat-label>Program</mat-label>
                    <mat-select [disabled]="dataentry" [formControl]="classControl" [(ngModel)]="selectedclass"  (selectionChange)="onProgramChange($event)" >
                        <mat-option [value]="class.id" *ngFor="let class of classList">{{class.label}}</mat-option>
                    </mat-select>
                </mat-form-field>
                <p>Selected value= {{selectedclass}}</p>
            </div>

            <div class="p-2 bd-highlight" >
                <mat-form-field>
                    <mat-label>Branch</mat-label>
                    <mat-select [disabled]="dataentry" [formControl]="branchControl" [(ngModel)]="selectedbranch"  (selectionChange)="onBranchChange($event)">
                        <mat-option [value]="programbranch.branchid" [disabled]="programbranch.programid!=selectedclass || selectedclass==='' "  *ngFor="let programbranch of programbranchList">{{programbranch.branchname}}</mat-option>
                    </mat-select>
                </mat-form-field>
                <p>Selected value = {{selectedbranch}}</p>
            </div>

        </div>
      
    </form>
    
    <app-school-student 
     
     [hidden]="!dataentry"></app-school-student>
    
  
 
</div>
